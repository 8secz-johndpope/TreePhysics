

#define kDepth 7
#define kBranches 3
#define kMaxDepth 2187 // branches ^ depth

const float len = 3.2;
const float wid = 0.3;
const float lenf = 0.6;
const float widf = 0.4;

l *= lenf;
w *= widf;

mat3 mx;
if( path == 0 )
{
mx = matRotate(0.75 + 0.25*sin(iTime-1.0)) * matTranslate( 0.0,0.4*l/lenf);
}
else if( path == 1 )
{
mx = matRotate(-0.6 + 0.21*sin(iTime)) * matTranslate(0.0,0.6*l/lenf);
}
else
{
mx = matRotate(0.23*sin(iTime+1.)) * matTranslate(0.0,1.0*l/lenf);
}
